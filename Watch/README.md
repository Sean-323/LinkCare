# LinkCare Watch App

Wear OS ê¸°ë°˜ ìš´ë™ íŠ¸ë˜í‚¹ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ, ëª¨ë°”ì¼ ì•±ê³¼ ì‹¤ì‹œê°„ ì—°ë™ë˜ëŠ” í—¬ìŠ¤ì¼€ì–´ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### 1. ì‹¤ì‹œê°„ ìš´ë™ ë°ì´í„° íŠ¸ë˜í‚¹
- **ì‹¬ë°•ìˆ˜, ì¹¼ë¡œë¦¬, ê±°ë¦¬, ìš´ë™ ì‹œê°„** ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- Health Services APIë¥¼ í™œìš©í•œ ì •í™•í•œ ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘
- Foreground Serviceë¡œ ë°±ê·¸ë¼ìš´ë“œì—ì„œë„ ì•ˆì •ì ì¸ ë°ì´í„° ìˆ˜ì§‘

### 2. ëª¨ë°”ì¼ ì•±ê³¼ ì‹¤ì‹œê°„ ì–‘ë°©í–¥ ë™ê¸°í™”
- **Wearable Data Layer API** ê¸°ë°˜ í†µì‹ 
- 2ì´ˆ ì£¼ê¸° ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ ì „ì†¡
- ìš´ë™ ì‹œì‘/ì¼ì‹œì •ì§€/ì¢…ë£Œ ìƒíƒœ ì¦‰ì‹œ ë™ê¸°í™”
- ìš´ë™ ì™„ë£Œ í›„ ìš”ì•½ ë°ì´í„° ìë™ ì „ì†¡

### 3. ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥í•œ ìš´ë™ UI
- **5ê°€ì§€ ìºë¦­í„°** Ã— **8ê°€ì§€ ë°°ê²½** = 40ê°€ì§€ ì¡°í•©
- ëª¨ë°”ì¼ì—ì„œ ì„¤ì •í•œ í…Œë§ˆê°€ ì›Œì¹˜ì— **ì¦‰ì‹œ ë°˜ì˜**
- í”„ë ˆì„ ê¸°ë°˜ ê±·ê¸° ì• ë‹ˆë©”ì´ì…˜ (ìš´ë™ ìƒíƒœ ì—°ë™)
- ìš´ë™ ì¤‘/ì¼ì‹œì •ì§€ ìƒíƒœì— ë”°ë¼ ì• ë‹ˆë©”ì´ì…˜ ìë™ ì¬ìƒ/ì •ì§€

### 4. Android 14+ Health Connect ì§€ì›
- ìµœì‹  Health Connect ê¶Œí•œ ì™„ë²½ ëŒ€ì‘
- ëŸ°íƒ€ì„ ê¶Œí•œ ë¶„ê¸° ì²˜ë¦¬ (API 34+)
- Google Play ì •ì±… ì¤€ìˆ˜

## ğŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ

### ì•„í‚¤í…ì²˜
- **Clean Architecture** (Presentation/Domain/Data ê³„ì¸µ ë¶„ë¦¬)
- **MVVM Pattern** (ViewModel + StateFlow)
- **Dependency Injection** (Hilt/Dagger)

### í•µì‹¬ ê¸°ìˆ 
- **Kotlin Coroutines & Flow** - ë¹„ë™ê¸° ì²˜ë¦¬ ë° ìƒíƒœ ê´€ë¦¬
- **Jetpack Compose for Wear OS** - ì„ ì–¸í˜• UI
- **Health Services API** - ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘
- **Wearable Data Layer API** - ëª¨ë°”ì¼ ì—°ë™
- **Lifecycle-aware Components** - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€

## ğŸ“± ì‹¤í–‰ ë°©ë²•

### ìš”êµ¬ì‚¬í•­
- Wear OS ë””ë°”ì´ìŠ¤ ë˜ëŠ” ì—ë®¬ë ˆì´í„°
- Health Services ì„¤ì¹˜ í•„ìˆ˜
- Android Studio

### ì‹¤í–‰
1. Android Studioì—ì„œ í”„ë¡œì íŠ¸ ì—´ê¸°
2. Wear OS ë””ë°”ì´ìŠ¤/ì—ë®¬ë ˆì´í„° ì—°ê²°
3. ì•± ì‹¤í–‰ (Run 'app')

### ê¶Œí•œ ì„¤ì •
ì•± ì‹¤í–‰ ì‹œ ë‹¤ìŒ ê¶Œí•œì´ ìë™ìœ¼ë¡œ ìš”ì²­ë©ë‹ˆë‹¤:
- ì‹ ì²´ ì„¼ì„œ (ì‹¬ë°•ìˆ˜)
- ìœ„ì¹˜ ì •ë³´
- í™œë™ ì¸ì‹
- ì•Œë¦¼ (Android 13+)
- Health Connect ë°ì´í„° ì½ê¸° (Android 14+)

## ğŸ”§ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
app/src/main/java/com/a307/linkcare/
â”œâ”€â”€ core/                          # ì•± ì´ˆê¸°í™” ë° ì „ì—­ ì„¤ì •
â”‚   â”œâ”€â”€ Constants.kt              # ì „ì—­ ìƒìˆ˜ ì •ì˜
â”‚   â”œâ”€â”€ MainActivity.kt           # ë©”ì¸ ì•¡í‹°ë¹„í‹°
â”‚   â””â”€â”€ LinkCareExerciseApplication.kt
â”‚
â”œâ”€â”€ data/                         # ë°ì´í„° ë ˆì´ì–´
â”‚   â”œâ”€â”€ DataLayerManager.kt      # ëª¨ë°”ì¼ ì—°ë™ ë§¤ë‹ˆì €
â”‚   â”œâ”€â”€ ExerciseClientManager.kt # ìš´ë™ ì„¼ì„œ ê´€ë¦¬
â”‚   â”œâ”€â”€ HealthServicesRepository.kt
â”‚   â””â”€â”€ model/
â”‚       â””â”€â”€ WorkoutSummary.kt    # ìš´ë™ ìš”ì•½ ë°ì´í„°
â”‚
â”œâ”€â”€ presentation/                 # UI ë ˆì´ì–´
â”‚   â”œâ”€â”€ exercise/                # ìš´ë™ í™”ë©´
â”‚   â”‚   â”œâ”€â”€ ExerciseScreen.kt   # ë©”ì¸ ìš´ë™ UI (ìºë¦­í„° ì• ë‹ˆë©”ì´ì…˜)
â”‚   â”‚   â””â”€â”€ ExerciseViewModel.kt
â”‚   â”œâ”€â”€ preparing/               # ì¤€ë¹„ í™”ë©´
â”‚   â”œâ”€â”€ summary/                 # ìš´ë™ ìš”ì•½ í™”ë©´
â”‚   â””â”€â”€ component/               # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚
â””â”€â”€ service/                      # ë°±ê·¸ë¼ìš´ë“œ ì„œë¹„ìŠ¤
    â”œâ”€â”€ ExerciseService.kt       # ìš´ë™ ì¶”ì  ì„œë¹„ìŠ¤
    â”œâ”€â”€ ExerciseServiceMonitor.kt
    â””â”€â”€ ExerciseNotificationManager.kt
```

## ğŸŒŸ í•µì‹¬ êµ¬í˜„

### 1. ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡
```kotlin
// 2ì´ˆ ì£¼ê¸°ë¡œ ëª¨ë°”ì¼ì— ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡
DataLayerManager.sendMetrics(
    sessionId = currentSessionId,
    heartRate = metrics.heartRate,
    calories = metrics.calories,
    durationSec = durationSec
)
```

### 2. í…Œë§ˆ ë™ê¸°í™”
```kotlin
// SharedPreferences Listenerë¡œ ì‹¤ì‹œê°„ í…Œë§ˆ ë°˜ì˜
DisposableEffect(Unit) {
    val listener = SharedPreferences.OnSharedPreferenceChangeListener { _, key ->
        when (key) {
            "characterId" -> characterId = prefs.getInt("characterId", 1)
            "backgroundId" -> backgroundId = prefs.getInt("backgroundId", 1)
        }
    }
    prefs.registerOnSharedPreferenceChangeListener(listener)
    onDispose { prefs.unregisterOnSharedPreferenceChangeListener(listener) }
}
```

### 3. ì„¸ì…˜ ê´€ë¦¬
- ì¤‘ë³µ ë°©ì§€ ë©”ì»¤ë‹ˆì¦˜ (í”Œë˜ê·¸ + Set + ID ê²€ì¦)
- ì•± ì¬ì‹œì‘ ì‹œ ì”ì—¬ ì„¸ì…˜ ìë™ ì •ë¦¬
- íƒ€ì„ìŠ¤íƒ¬í”„ ì´ˆ ë‹¨ìœ„ í†µì¼

## ğŸ“Š ë°ì´í„° íë¦„

```
[Watch App] â”€â”€â”€â”€ Wearable Data Layer â”€â”€â”€â†’ [Mobile App]
     â†“
ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ (2ì´ˆ ì£¼ê¸°)
  - sessionId
  - heartRate
  - calories
  - durationSec
     â†“
ìš´ë™ ì™„ë£Œ í›„ ìš”ì•½
  - avgHeartRate
  - totalCalories
  - totalDistance
  - startTimestamp
  - endTimestamp

[Mobile App] â”€â”€â”€â”€ Wearable Data Layer â”€â”€â”€â†’ [Watch App]
     â†“
í…Œë§ˆ ë™ê¸°í™”
  - characterId
  - backgroundId
```

## ğŸ› ï¸ ìµœê·¼ ê°œì„  ì‚¬í•­

### ì½”ë“œ í’ˆì§ˆ ê°œì„ 
- âœ… ì£¼ì„ ì²˜ë¦¬ëœ ì½”ë“œ ì œê±°
- âœ… ë¡œê·¸ íƒœê·¸ í†µì¼ (`TAG` ìƒìˆ˜ ì‚¬ìš©)
- âœ… ë§¤ì§ ë„˜ë²„ ìƒìˆ˜í™” (`Constants` ê°ì²´)

### ê¸°ëŠ¥ ì—…ë°ì´íŠ¸
- âœ… ë°°ê²½ ì´ë¯¸ì§€ 8ì¢… ì§€ì› (ê¸°ì¡´ 2ì¢… â†’ 8ì¢…)
- âœ… Android 14+ Health Connect ê¶Œí•œ ì¶”ê°€
- âœ… íƒ€ì„ìŠ¤íƒ¬í”„ ë‹¨ìœ„ í†µì¼ (ì´ˆ ë‹¨ìœ„)

## ğŸ” ì£¼ìš” íŠ¹ì§•

### ì„±ëŠ¥ ìµœì í™”
- `Dispatchers.Default` ì‚¬ìš©ìœ¼ë¡œ ë©”ì¸ ìŠ¤ë ˆë“œ ë³´í˜¸
- `StateFlow` ìºì‹±ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ì¬ì—°ì‚° ë°©ì§€
- `DisposableEffect`ë¡œ ë¦¬ìŠ¤ë„ˆ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€

### ì•ˆì •ì„±
- Lifecycle-aware ì½”ë£¨í‹´ìœ¼ë¡œ ìƒëª…ì£¼ê¸° ê´€ë¦¬
- 3ì¤‘ ì¤‘ë³µ ë°©ì§€ ë©”ì»¤ë‹ˆì¦˜ (ì„¸ì…˜ ê´€ë¦¬)
- ì—ëŸ¬ í•¸ë“¤ë§ ë° ë¡œê¹… ì²´ê³„

### ìœ ì§€ë³´ìˆ˜ì„±
- Clean Architecture ì ìš©
- Repository íŒ¨í„´ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬
- DIë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ êµ¬ì¡°

## ğŸ“„ License

ì´ í”„ë¡œì íŠ¸ëŠ” SSAFY 13ê¸° íŠ¹í™” í”„ë¡œì íŠ¸ì˜ ì¼ë¶€ì…ë‹ˆë‹¤.
